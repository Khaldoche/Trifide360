<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structure du Code - Trifide 360</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h1>Trifide 360</h1>
                <p>Documentation Architecture</p>
            </div>
            
            <input type="text" class="search-box" placeholder="Rechercher..." id="searchBox">
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link-ok">ğŸ  Accueil</a>
                </li>
                <li class="nav-item">
                    <a href="vue-ensemble.html" class="nav-link-ok">Vue d'Ensemble</a>
                </li>
                <li class="nav-item has-submenu">
                <a href="fonctionnalites-metier.html" class="nav-link-ok submenu-toggle">
                    FonctionnalitÃ©s MÃ©tier <span class="arrow">â–¼</span>
                </a>
                <ul class="nav-submenu">
                    <li><a href="donnees-geospatiales.html" class="nav-link-ok">DonnÃ©es GÃ©ospatiales</a></li>
                    <li><a href="visualisation-2d-3d.html" class="nav-link-ok">Visualisation 2D/3D</a></li>
                    <li><a href="creation-interactive.html" class="nav-link-ok">CrÃ©ation Interactive</a></li>
                    <li><a href="outils-metier.html" class="nav-link-ok">Outils MÃ©tier</a></li>
                </ul>
                </li>
                <li class="nav-item">
                    <a href="structure-code.html" class="nav-link-ok active">Structure du Code</a>
                </li>
                <li class="nav-item">
                    <a href="mapping-fonctions-code.html" class="nav-link">Mapping Fonctions â†” Code</a>
                </li>
                <li class="nav-item">
                    <a href="flux-donnees.html" class="nav-link">Flux de DonnÃ©es</a>
                </li>
                <li class="nav-item">
                    <a href="hierarchie-classes.html" class="nav-link">HiÃ©rarchie des Classes</a>
                </li>
                <li class="nav-item">
                    <a href="communication-inter-modules.html" class="nav-link">Communication Inter-Modules</a>
                </li>
                <li class="nav-item">
                    <a href="catalogue-methodes.html" class="nav-link">Catalogue des MÃ©thodes</a>
                </li>
                <li class="nav-item">
                    <a href="patterns-anti-patterns.html" class="nav-link">Patterns & Anti-Patterns</a>
                </li>
                <li class="nav-item">
                    <a href="recommandations.html" class="nav-link">Recommandations</a>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <section class="section active">
                <h1 class="h1-ok">ğŸ—ï¸ Structure du Code Source</h1>

                <div class="card">
                    <h2>Organisation GÃ©nÃ©rale du Projet</h2>
                    <div class="file-structure">
Trifide360/
â”œâ”€â”€ ğŸ“ Source/                          # Code source principal
â”‚   â”œâ”€â”€ ğŸ“„ Main.xaml.cs                 # (7000+ lignes) ContrÃ´leur principal
â”‚   â”œâ”€â”€ ğŸ“„ Main.xaml                    # Interface WPF principale
â”‚   â”œâ”€â”€ ğŸ“„ App.xaml.cs                  # (200 lignes) Point d'entrÃ©e
â”‚   â”œâ”€â”€ ğŸ“„ App.xaml                     # Configuration application
â”‚   â””â”€â”€ ğŸ“„ AssemblyInfo.cs              # MÃ©tadonnÃ©es assembly
â”œâ”€â”€ ğŸ“ GISMind/                         # BibliothÃ¨que gÃ©omÃ©trique propriÃ©taire
â”‚   â”œâ”€â”€ ğŸ“ Geometry/                    # Classes gÃ©omÃ©triques de base
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Geometry.cs              # Classe abstraite de base
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Point.cs                 # GÃ©omÃ©trie point 3D + opÃ©rateurs
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Polyline.cs              # GÃ©omÃ©trie polyligne
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Polygon.cs               # GÃ©omÃ©trie polygone
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MultiPoint.cs            # Collections de points
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MultiPatch.cs            # GÃ©omÃ©tries 3D complexes
â”‚   â”‚   â””â”€â”€ ğŸ“„ GeometryEngine.cs        # Moteur calculs gÃ©omÃ©triques
â”‚   â”œâ”€â”€ ğŸ“ GIS/                         # Utilitaires SIG
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ProjectionHelper.cs      # Transformations coordonnÃ©es
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SpatialReference.cs      # SystÃ¨mes de rÃ©fÃ©rence
â”‚   â”‚   â””â”€â”€ ğŸ“„ CoordinateSystem.cs      # SystÃ¨mes de coordonnÃ©es
â”‚   â””â”€â”€ ğŸ“ Mathematics/                 # Calculs gÃ©odÃ©siques
â”‚       â”œâ”€â”€ ğŸ“„ GeodeticCalculations.cs  # Calculs gÃ©odÃ©siques prÃ©cis
â”‚       â”œâ”€â”€ ğŸ“„ MatrixOperations.cs      # OpÃ©rations matricielles
â”‚       â””â”€â”€ ğŸ“„ StatisticsEngine.cs      # Analyses statistiques
â”œâ”€â”€ ğŸ“ IO/                              # Gestion entrÃ©es/sorties
â”‚   â”œâ”€â”€ ğŸ“ Readers/                     # Lecteurs de fichiers
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ShapeFileReader.cs       # Import Shapefile
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ LASReader.cs             # Import nuages points LAS
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ CSVReader.cs             # Import donnÃ©es tabulaires
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MXReader.cs              # Import Mobile Mapping
â”‚   â”‚   â””â”€â”€ ğŸ“„ E57Reader.cs             # Import scans 3D E57
â”‚   â”œâ”€â”€ ğŸ“ Writers/                     # Exportateurs
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ UniversalWriter.cs       # Export multi-format
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ShapeFileWriter.cs       # Export Shapefile
â”‚   â”‚   â””â”€â”€ ğŸ“„ ReportGenerator.cs       # GÃ©nÃ©ration rapports
â”‚   â””â”€â”€ ğŸ“„ FileValidator.cs             # Validation formats
â”œâ”€â”€ ğŸ“ UI/                              # Interface utilisateur
â”‚   â”œâ”€â”€ ğŸ“ Controls/                    # ContrÃ´les personnalisÃ©s WPF
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MapViewControl.xaml      # ContrÃ´le carte principal
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ LayerTreeView.xaml       # Arbre des couches
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AttributeEditor.xaml     # Ã‰diteur d'attributs
â”‚   â”‚   â””â”€â”€ ğŸ“„ ToolbarControls.xaml     # Barres d'outils
â”‚   â”œâ”€â”€ ğŸ“ Dialogs/                     # FenÃªtres modales
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ImportDialog.xaml        # Assistant import
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ExportDialog.xaml        # Assistant export
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SymbologyDialog.xaml     # Configuration symboles
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ProjectionDialog.xaml    # SÃ©lection projections
â”‚   â”‚   â””â”€â”€ ğŸ“„ SettingsDialog.xaml      # ParamÃ¨tres application
â”‚   â””â”€â”€ ğŸ“ Themes/                      # ThÃ¨mes visuels
â”‚       â”œâ”€â”€ ğŸ“„ LightTheme.xaml          # ThÃ¨me clair
â”‚       â”œâ”€â”€ ğŸ“„ DarkTheme.xaml           # ThÃ¨me sombre
â”‚       â””â”€â”€ ğŸ“„ HighContrastTheme.xaml   # ThÃ¨me contraste Ã©levÃ©
â”œâ”€â”€ ğŸ“ Data/                            # Gestion des donnÃ©es
â”‚   â”œâ”€â”€ ğŸ“„ FeatureTableManager.cs       # Gestionnaire tables entitÃ©s
â”‚   â”œâ”€â”€ ğŸ“„ LayerManager.cs              # Gestionnaire couches
â”‚   â”œâ”€â”€ ğŸ“„ ProjectManager.cs            # Gestion projets
â”‚   â””â”€â”€ ğŸ“„ CacheManager.cs              # Gestion cache donnÃ©es
â”œâ”€â”€ ğŸ“ Unity/                           # IntÃ©gration Unity 3D
â”‚   â”œâ”€â”€ ğŸ“„ UnityController.cs           # ContrÃ´leur Unity
â”‚   â”œâ”€â”€ ğŸ“„ IPCManager.cs                # Communication inter-processus
â”‚   â”œâ”€â”€ ğŸ“„ MemoryMappedCommunication.cs # Memory-mapped files
â”‚   â””â”€â”€ ğŸ“„ Unity3DCommands.cs           # Commandes Unity
â”œâ”€â”€ ğŸ“ Utilities/                       # Utilitaires transversaux
â”‚   â”œâ”€â”€ ğŸ“„ Extension.cs                 # MÃ©thodes d'extension
â”‚   â”œâ”€â”€ ğŸ“„ Logger.cs                    # SystÃ¨me de logging
â”‚   â”œâ”€â”€ ğŸ“„ NumberConverter.cs           # Conversions numÃ©riques DBF
â”‚   â”œâ”€â”€ ğŸ“„ ConfigurationManager.cs      # Gestion configuration
â”‚   â””â”€â”€ ğŸ“„ PerformanceMonitor.cs        # Monitoring performances
â”œâ”€â”€ ğŸ“ Resources/                       # Ressources application
â”‚   â”œâ”€â”€ ğŸ“ Icons/                       # IcÃ´nes interface
â”‚   â”œâ”€â”€ ğŸ“ Localization/                # Fichiers de traduction
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Resources.fr.resx        # FranÃ§ais
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Resources.en.resx        # Anglais
â”‚   â”‚   â””â”€â”€ ğŸ“„ Resources.es.resx        # Espagnol
â”‚   â””â”€â”€ ğŸ“ Templates/                   # ModÃ¨les et templates
â””â”€â”€ ğŸ“ Tests/                           # Tests unitaires et intÃ©gration
    â”œâ”€â”€ ğŸ“„ GeometryTests.cs             # Tests gÃ©omÃ©trie
    â”œâ”€â”€ ğŸ“„ IOTests.cs                   # Tests entrÃ©es/sorties
    â””â”€â”€ ğŸ“„ IntegrationTests.cs          # Tests d'intÃ©gration
                    </div>
                </div>

                <div class="card">
                    <h2>ResponsabilitÃ©s DÃ©taillÃ©es par Composant</h2>
                    
                    <table class="mapping-table">
                        <thead>
                            <tr>
                                <th>Composant</th>
                                <th>ResponsabilitÃ© Principale</th>
                                <th>Taille Approximative</th>
                                <th>DÃ©pendances Critiques</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Main.xaml.cs</strong></td>
                                <td>Orchestration gÃ©nÃ©rale, gestionnaires Ã©vÃ©nements UI, coordination modules</td>
                                <td>7000+ lignes</td>
                                <td>WPF, Syncfusion, ArcGIS Runtime</td>
                            </tr>
                            <tr>
                                <td><strong>GISMind.Geometry</strong></td>
                                <td>Classes gÃ©omÃ©triques de base avec opÃ©rateurs surchargÃ©s et validations</td>
                                <td>2000+ lignes</td>
                                <td>System.Numerics, Custom Math</td>
                            </tr>
                            <tr>
                                <td><strong>IO.Readers</strong></td>
                                <td>Import multi-formats avec validation et parsing optimisÃ©</td>
                                <td>1500+ lignes</td>
                                <td>File I/O, Format Libraries</td>
                            </tr>
                            <tr>
                                <td><strong>UI.Controls</strong></td>
                                <td>ContrÃ´les WPF personnalisÃ©s et interfaces utilisateur spÃ©cialisÃ©es</td>
                                <td>3000+ lignes</td>
                                <td>WPF, Syncfusion Controls</td>
                            </tr>
                            <tr>
                                <td><strong>Unity Integration</strong></td>
                                <td>Communication inter-processus et coordination 3D temps rÃ©el</td>
                                <td>800+ lignes</td>
                                <td>TCP/IP, Memory-Mapped Files</td>
                            </tr>
                            <tr>
                                <td><strong>Data Management</strong></td>
                                <td>Gestion Ã©tats applications, projets et cache donnÃ©es</td>
                                <td>1200+ lignes</td>
                                <td>ArcGIS FeatureTables</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>DÃ©pendances Externes Critiques</h2>
                    
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4>ğŸ¢ Syncfusion UI Framework</h4>
                            <p><span class="badge-ok">Licence Commerciale</span></p>
                            <ul>
                                <li><strong>Version :</strong> 20.4.0.58 ou supÃ©rieure</li>
                                <li><strong>Composants utilisÃ©s :</strong> Docking Manager, Grid, Charts, Ribbon</li>
                                <li><strong>Impact :</strong> Interface utilisateur complÃ¨te</li>
                                <li><strong>Alternatives :</strong> DevExpress (coÃ»t Ã©levÃ©), Telerik (migration complexe)</li>
                                <li><strong>Risques :</strong> DÃ©pendance licence, coÃ»t rÃ©current</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ—ºï¸ ArcGIS Runtime SDK</h4>
                            <p><span class="badge-ok">SDK LicenciÃ© ESRI</span></p>
                            <ul>
                                <li><strong>Version :</strong> 100.15 ou supÃ©rieure</li>
                                <li><strong>FonctionnalitÃ©s :</strong> MapView, FeatureTables, Renderers, Symbology</li>
                                <li><strong>Impact :</strong> CÅ“ur fonctionnel cartographique</li>
                                <li><strong>Alternatives :</strong> MapBox (web-oriented), OpenLayers (JavaScript)</li>
                                <li><strong>Risques :</strong> CoÃ»t par dÃ©ploiement, Ã©volutions API</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ“‹ NLog Framework</h4>
                            <p><span class="badge-ok">Open Source</span></p>
                            <ul>
                                <li><strong>Version :</strong> 5.2.0 ou supÃ©rieure</li>
                                <li><strong>Usage :</strong> Logging structurÃ©, audit, diagnostic</li>
                                <li><strong>Impact :</strong> SystÃ¨me de traÃ§abilitÃ© complet</li>
                                <li><strong>Alternatives :</strong> Serilog, log4net</li>
                                <li><strong>Avantages :</strong> Gratuit, performant, flexible</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ® Unity Engine Integration</h4>
                            <p><span class="badge-ok">Processus Externe</span></p>
                            <ul>
                                <li><strong>Version :</strong> Unity 2022.3 LTS ou supÃ©rieure</li>
                                <li><strong>Communication :</strong> TCP + Memory-Mapped Files</li>
                                <li><strong>Impact :</strong> Visualisation 3D et panoramas</li>
                                <li><strong>Alternatives :</strong> DirectX natif (complexitÃ© Ã©levÃ©e)</li>
                                <li><strong>Avantages :</strong> Rendu haute performance, Ã©cosystÃ¨me riche</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>MÃ©triques de ComplexitÃ© du Code</h2>
                    
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4>ğŸ“Š Statistiques GÃ©nÃ©rales</h4>
                            <ul>
                                <li><strong>Total lignes de code :</strong> ~15,000 lignes C#</li>
                                <li><strong>Fichiers source :</strong> ~60 fichiers .cs</li>
                                <li><strong>Classes principales :</strong> ~40 classes mÃ©tier</li>
                                <li><strong>Interfaces :</strong> ~15 contrats d'abstraction</li>
                                <li><strong>MÃ©thodes publiques :</strong> ~200 points d'entrÃ©e</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ”§ ComplexitÃ© par Module</h4>
                            <ul>
                                <li><strong>Main.xaml.cs :</strong> ComplexitÃ© Ã©levÃ©e (orchestration)</li>
                                <li><strong>GISMind.Geometry :</strong> ComplexitÃ© moyenne (calculs)</li>
                                <li><strong>IO.Readers :</strong> ComplexitÃ© moyenne (parsing)</li>
                                <li><strong>UI.Controls :</strong> ComplexitÃ© faible (prÃ©sentation)</li>
                                <li><strong>Unity Integration :</strong> ComplexitÃ© Ã©levÃ©e (IPC)</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ¯ Points d'Attention</h4>
                            <ul>
                                <li><strong>Main.xaml.cs :</strong> Monolithique, difficile Ã  maintenir</li>
                                <li><strong>Memory leaks :</strong> Gestion Ã©vÃ©nements ArcGIS</li>
                                <li><strong>Thread safety :</strong> AccÃ¨s concurrent donnÃ©es</li>
                                <li><strong>Performance :</strong> Chargement gros fichiers</li>
                                <li><strong>Error handling :</strong> Gestion robuste exceptions</li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>ğŸ“ˆ Ã‰volution et Maintenance</h4>
                            <ul>
                                <li><strong>TestabilitÃ© :</strong> LimitÃ©e par couplage fort</li>
                                <li><strong>ExtensibilitÃ© :</strong> Ajout formats difficile</li>
                                <li><strong>Documentation :</strong> Code faiblement documentÃ©</li>
                                <li><strong>Patterns :</strong> Peu de design patterns appliquÃ©s</li>
                                <li><strong>Refactoring :</strong> Risques Ã©levÃ©s modifications</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Architecture des Assemblies</h2>
                    
                    <div class="flow-diagram-ok">
                        <h4>DÃ©pendances entre Assemblies</h4>
                        <div class="code-block">
Trifide360.exe (Application principale)
    â†“ rÃ©fÃ©rence
GISMind.dll (GÃ©omÃ©trie propriÃ©taire)
    â†“ utilise
ArcGIS.Runtime.dll (Cartographie ESRI)
    â†“ rÃ©fÃ©rence
Syncfusion.*.dll (Interface utilisateur)
    â†“ utilise
NLog.dll (Logging)
    â†“ communique avec
Unity3DViewer.exe (Processus externe 3D)
                        </div>
                    </div>

                    <div class="pattern-card">
                        <h4>ğŸ—ï¸ ModularitÃ© et Couplage</h4>
                        <ul>
                            <li><strong>Couplage fort :</strong> Main.xaml.cs dÃ©pend de tous les modules</li>
                            <li><strong>Separation of Concerns :</strong> Partiellement respectÃ©e</li>
                            <li><strong>Dependency Injection :</strong> Non implÃ©mentÃ©e (opportunitÃ© d'amÃ©lioration)</li>
                            <li><strong>Interface Segregation :</strong> Interfaces trop larges</li>
                            <li><strong>Single Responsibility :</strong> Violations dans contrÃ´leur principal</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h2> Navigation Rapide</h2>
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4><a href="index.html">â¬…ï¸ Accueil</a></h4>
                            <p>Informations gÃ©nÃ©rales sur le projet</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="vue-ensemble.html">â¬…ï¸ Vue d'Ensemble</a></h4>
                            <p>Architecture gÃ©nÃ©rale, technologies utilisÃ©es et domaines d'application</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="fonctionnalites-metier.html">â¬…ï¸ FonctionnalitÃ©s MÃ©tier</a></h4>
                            <p>CapacitÃ©s gÃ©omatiques, donnÃ©es, visualisation et Ã©dition</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="mapping-fonctions-code.html">â¡ï¸ Mapping Fonctions â†” Code</a></h4>
                            <p>Correspondances entre fonctionnalitÃ©s utilisateur et code source</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="flux-donnees.html">â¡ï¸ Flux de DonnÃ©es</a></h4>
                            <p>Architecture des flux de donnÃ©es</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="hierarchie-classes.html">â¡ï¸ HiÃ©rarchie des Classes</a></h4>
                            <p>Organisation orientÃ©e objet</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="communication-inter-modules.html">â¡ï¸ Communication Inter-Modules</a></h4>
                            <p>Architecture IPC dÃ©taillÃ©e</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="catalogue-methodes.html">â¡ï¸ Catalogue des mÃ©thodes</a></h4>
                            <p>Liste des principales mÃ©thodes de la plateforme</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="patterns-anti-patterns-system.html">â¡ï¸ Patterns & Anti-Patterns</a></h4>
                            <p>Meilleures pratiques et piÃ¨ges Ã  Ã©viter</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="recommendations.html">â¡ï¸ Recommandations</a></h4>
                            <p>Refactoring Prioritaires - Architecture Cible - SÃ©paration des ResponsabilitÃ©s</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>