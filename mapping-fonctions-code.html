<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapping Fonctions ‚Üî Code - Trifide 360</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h1>Trifide 360</h1>
                <p>Documentation Architecture</p>
            </div>
            
            <input type="text" class="search-box" placeholder="Rechercher..." id="searchBox">
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link-ok">üè† Accueil</a>
                </li>
                <li class="nav-item">
                    <a href="vue-ensemble.html" class="nav-link-ok">Vue d'Ensemble</a>
                </li>
                <li class="nav-item">
                    <a href="fonctionnalites-metier.html" class="nav-link-ok">Fonctionnalit√©s M√©tier</a>
                    <ul class="nav-submenu">
                        <li><a href="donnees-geospatiales.html" class="nav-link-ok">Donn√©es G√©ospatiales</a></li>
                        <li><a href="visualisation-2d-3d.html" class="nav-link-ok">Visualisation 2D/3D</a></li>
                        <li><a href="creation-interactive.html" class="nav-link-ok">Cr√©ation Interactive</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="structure-code.html" class="nav-link-ok">Structure du Code</a>
                </li>
                <li class="nav-item">
                    <a href="mapping-fonctions-code.html" class="nav-link-ok active">Mapping Fonctions ‚Üî Code</a>
                </li>
                <li class="nav-item">
                    <a href="flux-donnees.html" class="nav-link-ok">Flux de Donn√©es</a>
                </li>
                <li class="nav-item">
                    <a href="hierarchie-classes.html" class="nav-link">Hi√©rarchie des Classes</a>
                </li>
                <li class="nav-item">
                    <a href="communication-inter-modules.html" class="nav-link">Communication Inter-Modules</a>
                </li>
                <li class="nav-item">
                    <a href="catalogue-methodes.html" class="nav-link">Catalogue des M√©thodes</a>
                </li>
                <li class="nav-item">
                    <a href="patterns-anti-patterns.html" class="nav-link">Patterns & Anti-Patterns</a>
                </li>
                <li class="nav-item">
                    <a href="recommandations.html" class="nav-link">Recommandations</a>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <section class="section active">
                <h1 class="h1-ok">üîó Mapping Fonctionnalit√©s ‚Üî Code C#</h1>

                <div class="card">
                    <h2>Vue d'Ensemble des Correspondances</h2>
                    <p>Cette section √©tablit les liens directs entre les fonctionnalit√©s utilisateur visibles et leur impl√©mentation technique dans le code source C# de Trifide 360.</p>
                    
                    <div class="flow-diagram-ok">
                        <h3 class="h3-ok">Pipeline Fonctionnel Complet</h3>
                        <div class="code-block">
Interface Utilisateur ‚Üí Gestionnaire d'√âv√©nement ‚Üí Logique M√©tier ‚Üí Composants ArcGIS ‚Üí Rendu Final
        ‚Üì                      ‚Üì                        ‚Üì                   ‚Üì                ‚Üì
    WPF Controls          Event Handlers           Business Logic      Runtime API        Visual Output
   (XAML + C#)           (Main.xaml.cs)          (Core Classes)     (Graphics/Map)      (User Feedback)
                                                                                           
Validation Input ‚Üê Error Handling ‚Üê Exception Management ‚Üê Try/Catch Blocks ‚Üê Robust Code
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>üóÇÔ∏è Gestion des Fichiers et Import</h2>
                    
                    <table class="mapping-table">
                        <thead>
                            <tr>
                                <th>Action Utilisateur</th>
                                <th>M√©thode C# Principale</th>
                                <th>Cha√Æne de Traitement</th>
                                <th>Composants Impliqu√©s</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Menu Fichier ‚Üí Ouvrir</strong></td>
                                <td><code>MnuOpenFile_Click()</code></td>
                                <td><code>ShowDialog() ‚Üí AddFile() ‚Üí LoadShapeFile()</code></td>
                                <td>OpenFileDialog, ShapeFileReader</td>
                            </tr>
                            <tr>
                                <td><strong>Glisser-D√©poser fichier</strong></td>
                                <td><code>DockSolutionExplorer_Drop()</code></td>
                                <td><code>ValidateFiles() ‚Üí AddFile() ‚Üí ProcessDirectory()</code></td>
                                <td>DragDrop Events, FileValidator</td>
                            </tr>
                            <tr>
                                <td><strong>Import Shapefile (.shp)</strong></td>
                                <td><code>LoadShapeFile(string path)</code></td>
                                <td><code>ShapeFileReader.Read() ‚Üí ValidateGeometry() ‚Üí DrawShapeFile()</code></td>
                                <td>ShapeFileReader, GeometryEngine</td>
                            </tr>
                            <tr>
                                <td><strong>Import nuage points LAS</strong></td>
                                <td><code>LoadLASFile(string path)</code></td>
                                <td><code>LASReader.Parse() ‚Üí CreatePointCloud() ‚Üí DisplayPoints()</code></td>
                                <td>LASReader, PointCloudManager</td>
                            </tr>
                            <tr>
                                <td><strong>Import donn√©es CSV</strong></td>
                                <td><code>ParallelAddData(string[] files)</code></td>
                                <td><code>CSVReader.Parse() ‚Üí ToData() ‚Üí FeatureTables.Add()</code></td>
                                <td>CSVReader, DataConverter</td>
                            </tr>
                            <tr>
                                <td><strong>Import Mobile Mapping MX</strong></td>
                                <td><code>AddMXData(string path)</code></td>
                                <td><code>MXReader.Read() ‚Üí ParseTrajectory() ‚Üí GPSTracking()</code></td>
                                <td>MXReader, GPSManager</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>üó∫Ô∏è Visualisation et Rendu Cartographique</h2>
                    
                    <table class="mapping-table">
                        <thead>
                            <tr>
                                <th>Fonctionnalit√© Visuelle</th>
                                <th>M√©thode C# Responsable</th>
                                <th>Composants ArcGIS</th>
                                <th>Param√®tres Cl√©s</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Affichage couche sur carte</strong></td>
                                <td><code>DrawShapeFile(FeatureTable table)</code></td>
                                <td><code>GraphicsOverlay, FeatureLayer</code></td>
                                <td>Symbology, Renderer, Visibility</td>
                            </tr>
                            <tr>
                                <td><strong>Configuration symbologie</strong></td>
                                <td><code>CreateRenderer(SymbologyType type)</code></td>
                                <td><code>UniqueValueRenderer, SimpleRenderer</code></td>
                                <td>FieldName, Symbol, ColorRamp</td>
                            </tr>
                            <tr>
                                <td><strong>S√©lection entit√©s sur carte</strong></td>
                                <td><code>Map_Click(MapViewInputEventArgs e)</code></td>
                                <td><code>IdentifyLayersAsync(), SelectionSet</code></td>
                                <td>ScreenPoint, Tolerance, LayerList</td>
                            </tr>
                            <tr>
                                <td><strong>Zoom sur √©tendue couche</strong></td>
                                <td><code>ctxZoomTo_Click(object sender)</code></td>
                                <td><code>MapView.SetViewpoint(), Envelope</code></td>
                                <td>Geometry.Extent, AnimationDuration</td>
                            </tr>
                            <tr>
                                <td><strong>Outils de mesure interactifs</strong></td>
                                <td><code>ShowMeasure(GeometryType type)</code></td>
                                <td><code>GeometryEngine.Distance(), Area()</code></td>
                                <td>Unit, SpatialReference, Precision</td>
                            </tr>
                            <tr>
                                <td><strong>Changement fond de carte</strong></td>
                                <td><code>SetBasemap(BasemapType type)</code></td>
                                <td><code>Map.Basemap, BasemapStyle</code></td>
                                <td>BasemapStyle Enum, Online/Offline</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>‚úèÔ∏è Cr√©ation et √âdition Interactive</h2>
                    
                    <table class="mapping-table">
                        <thead>
                            <tr>
                                <th>Action d'√âdition</th>
                                <th>S√©quence de M√©thodes C#</th>
                                <th>√âtats Interm√©diaires</th>
                                <th>R√©sultat Final</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Cr√©er nouveau point</strong></td>
                                <td><code>BtnCreatePoint_Click() ‚Üí BtnCreateShapePosition_Click() ‚Üí BtnCreateShapeAddFeature_Click()</code></td>
                                <td>EditingMode = Point, TemporaryGraphic</td>
                                <td>Feature ajout√© √† FeatureTable</td>
                            </tr>
                            <tr>
                                <td><strong>Cr√©er nouvelle ligne</strong></td>
                                <td><code>BtnCreateLine_Click() ‚Üí CollectVertices() ‚Üí BtnCreateShapeAddFeature_Click()</code></td>
                                <td>VertexCollection, RubberBand Display</td>
                                <td>Polyline Feature cr√©√©e</td>
                            </tr>
                            <tr>
                                <td><strong>Cr√©er nouveau polygone</strong></td>
                                <td><code>BtnCreatePolygon_Click() ‚Üí ValidateTopology() ‚Üí ClosePath() ‚Üí AddFeature()</code></td>
                                <td>Ring Validation, SelfIntersection Check</td>
                                <td>Polygon Feature valide</td>
                            </tr>
                            <tr>
                                <td><strong>√âditer attributs entit√©</strong></td>
                                <td><code>ShowAttributeEditor() ‚Üí ValidateAttributes() ‚Üí UpdateFeature()</code></td>
                                <td>AttributeForm Display, Field Validation</td>
                                <td>Feature Attributes Updated</td>
                            </tr>
                            <tr>
                                <td><strong>Supprimer entit√© s√©lectionn√©e</strong></td>
                                <td><code>DeleteSelectedFeature() ‚Üí ConfirmDialog() ‚Üí RemoveFromTable()</code></td>
                                <td>User Confirmation, Backup Creation</td>
                                <td>Feature Deleted + Undo Available</td>
                            </tr>
                            <tr>
                                <td><strong>D√©placer entit√© existante</strong></td>
                                <td><code>StartMoveOperation() ‚Üí TrackMouseMove() ‚Üí CommitMove()</code></td>
                                <td>Ghost Geometry, Snapping Active</td>
                                <td>Feature Geometry Updated</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>üéÆ Int√©gration Unity 3D</h2>
                    
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4>üöÄ Communication Inter-Processus</h4>
                            <table class="mapping-table">
                                <thead>
                                    <tr>
                                        <th>Action Utilisateur</th>
                                        <th>M√©thode WPF</th>
                                        <th>Message Unity</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Pan/Zoom carte 2D</td>
                                        <td><code>MapView_ViewpointChanged()</code></td>
                                        <td><code>UPDATE_CAMERA_POSITION</code></td>
                                    </tr>
                                    <tr>
                                        <td>S√©lection entit√©</td>
                                        <td><code>OnFeatureSelected()</code></td>
                                        <td><code>HIGHLIGHT_OBJECT_3D</code></td>
                                    </tr>
                                    <tr>
                                        <td>Cr√©ation g√©om√©trie</td>
                                        <td><code>OnGeometryCreated()</code></td>
                                        <td><code>ADD_GEOMETRY_3D</code></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="feature-card-ok">
                            <h4>üíæ Transfert de Donn√©es</h4>
                            <ul>
                                <li><strong>Memory-Mapped Files :</strong> <code>UnityDataExchange.UpdateGeometry()</code></li>
                                <li><strong>Matrices transformation :</strong> <code>TransformationMatrix.Serialize()</code></li>
                                <li><strong>Positions GPS :</strong> <code>GPSData.StreamToUnity()</code></li>
                                <li><strong>Nuages de points :</strong> <code>PointCloudStreamer.SendChunk()</code></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>‚öôÔ∏è Gestion des Projets et Configuration</h2>
                    
                    <table class="mapping-table">
                        <thead>
                            <tr>
                                <th>Fonctionnalit√© Projet</th>
                                <th>M√©thode Principal</th>
                                <th>Donn√©es Persist√©es</th>
                                <th>Format Stockage</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Nouveau projet</strong></td>
                                <td><code>CreateNewProject(string name)</code></td>
                                <td>ProjectMetadata, LayerConfiguration</td>
                                <td>XML + Binary blobs</td>
                            </tr>
                            <tr>
                                <td><strong>Sauvegarde projet</strong></td>
                                <td><code>SaveProject(string path)</code></td>
                                <td>FeatureTables, Symbology, ViewState</td>
                                <td>Compressed ZIP archive</td>
                            </tr>
                            <tr>
                                <td><strong>Ouverture projet</strong></td>
                                <td><code>LoadProject(string path)</code></td>
                                <td>Full Application State Restore</td>
                                <td>Deserialized from ZIP</td>
                            </tr>
                            <tr>
                                <td><strong>Export donn√©es</strong></td>
                                <td><code>ExportToFormat(ExportType type)</code></td>
                                <td>Selected FeatureTables Only</td>
                                <td>Shapefile, CSV, KML, etc.</td>
                            </tr>
                            <tr>
                                <td><strong>Configuration utilisateur</strong></td>
                                <td><code>SaveUserPreferences()</code></td>
                                <td>UI Layout, Default Settings</td>
                                <td>Registry + Config files</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>üîç Outils d'Analyse Spatiale</h2>
                    
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4>üìê Calculs G√©om√©triques</h4>
                            <ul>
                                <li><strong>Distance :</strong> <code>GeometryEngine.Distance(geom1, geom2, spatialRef)</code></li>
                                <li><strong>Surface :</strong> <code>GeometryEngine.Area(polygon, unit)</code></li>
                                <li><strong>Buffer :</strong> <code>GeometryEngine.Buffer(geometry, distance)</code></li>
                                <li><strong>Intersection :</strong> <code>GeometryEngine.Intersect(geom1, geom2)</code></li>
                                <li><strong>Centro√Øde :</strong> <code>GeometryEngine.LabelPoint(polygon)</code></li>
                            </ul>
                        </div>
                        <div class="feature-card-ok">
                            <h4>üó∫Ô∏è Analyses Spatiales</h4>
                            <ul>
                                <li><strong>S√©lection spatiale :</strong> <code>SelectByLocation(geometry, method)</code></li>
                                <li><strong>Jointure spatiale :</strong> <code>SpatialJoin(sourceLayer, joinLayer)</code></li>
                                <li><strong>Proximit√© :</strong> <code>FindNearestFeatures(point, distance)</code></li>
                                <li><strong>Topologie :</strong> <code>ValidateTopology(featureSet)</code></li>
                                <li><strong>Statistiques :</strong> <code>CalculateStatistics(fieldName, features)</code></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Exemple D√©taill√© : Workflow Cr√©ation Point</h2>
                    
                    <div class="flow-diagram-ok">
                        <h4>S√©quence Compl√®te Cr√©ation Point</h4>
                        <div class="code-block">
1. User Click "Create Point" Button
   ‚Üì BtnCreatePoint_Click(object sender, EventArgs e)
   
2. Enable Point Creation Mode  
   ‚Üì SetEditingMode(EditingMode.CreatePoint)
   ‚Üì ChangeCursor(Cursors.Cross)
   
3. User Click on Map
   ‚Üì MapView_Click(object sender, MapViewInputEventArgs e)
   ‚Üì if (editingMode == CreatePoint)
   
4. Get Map Coordinates
   ‚Üì MapPoint mapPoint = e.Location
   ‚Üì ProjectToDataSpatialReference(mapPoint)
   
5. Validate Point Location
   ‚Üì ValidatePointInBounds(mapPoint)
   ‚Üì CheckSpatialConstraints(mapPoint)
   
6. Show Attribute Form
   ‚Üì ShowAttributeEditor(pointFeatureClass)
   ‚Üì User fills required fields
   
7. Create Feature
   ‚Üì Feature newFeature = pointFeatureTable.CreateFeature()
   ‚Üì newFeature.Geometry = mapPoint
   ‚Üì newFeature.Attributes = userAttributes
   
8. Add to Map
   ‚Üì pointFeatureTable.AddFeature(newFeature)
   ‚Üì RefreshGraphicsOverlay()
   ‚Üì CreateUndoOperation("Create Point")

Result: Point Feature successfully created and displayed on map
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2> Navigation Rapide</h2>
                    <div class="features-grid">
                        <div class="feature-card-ok">
                            <h4><a href="index.html">‚¨ÖÔ∏è Accueil</a></h4>
                            <p>Informations g√©n√©rales sur le projet</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="vue-ensemble.html">‚¨ÖÔ∏è Vue d'Ensemble</a></h4>
                            <p>Architecture g√©n√©rale, technologies utilis√©es et domaines d'application</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="fonctionnalites-metier.html">‚¨ÖÔ∏è Fonctionnalit√©s M√©tier</a></h4>
                            <p>Capacit√©s g√©omatiques, donn√©es, visualisation et √©dition</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="structure-code.html">‚¨ÖÔ∏è Structure du Code</a></h4>
                            <p>Organisation des fichiers, responsabilit√©s et d√©pendances</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="flux-donnees.html">‚û°Ô∏è Flux de Donn√©es</a></h4>
                            <p>Architecture des flux de donn√©es</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="hierarchie-classes.html">‚û°Ô∏è Hi√©rarchie des Classes</a></h4>
                            <p>Organisation orient√©e objet</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="communication-inter-modules.html">‚û°Ô∏è Communication Inter-Modules</a></h4>
                            <p>Architecture IPC d√©taill√©e</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="catalogue-methodes.html">‚û°Ô∏è Catalogue des m√©thodes</a></h4>
                            <p>Liste des principales m√©thodes de la plateforme</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="patterns-anti-patterns-system.html">‚û°Ô∏è Patterns & Anti-Patterns</a></h4>
                            <p>Meilleures pratiques et pi√®ges √† √©viter</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="recommendations.html">‚û°Ô∏è Recommandations</a></h4>
                            <p>Refactoring Prioritaires - Architecture Cible - S√©paration des Responsabilit√©s</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>