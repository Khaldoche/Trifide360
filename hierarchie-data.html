<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classes de Gestion des DonnÃ©es - Trifide 360</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h1>Trifide 360</h1>
                <p>Documentation Architecture</p>
            </div>
            
            <input type="text" class="search-box" placeholder="Rechercher..." id="searchBox">
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Accueil</a>
                </li>
                <li class="nav-item">
                    <a href="vue-ensemble.html" class="nav-link">Vue d'Ensemble</a>
                </li>
                <li class="nav-item">
                    <a href="fonctionnalites-metier.html" class="nav-link">FonctionnalitÃ©s MÃ©tier</a>
                    <ul class="nav-submenu">
                        <li><a href="donnees-geospatiales.html" class="nav-link">DonnÃ©es GÃ©ospatiales</a></li>
                        <li><a href="visualisation-2d-3d.html" class="nav-link">Visualisation 2D/3D</a></li>
                        <li><a href="creation-interactive.html" class="nav-link">CrÃ©ation Interactive</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="structure-code.html" class="nav-link">Structure du Code</a>
                </li>
                <li class="nav-item">
                    <a href="mapping-fonctions-code.html" class="nav-link">Mapping Fonctions â†’ Code</a>
                </li>
                <li class="nav-item">
                    <a href="flux-donnees.html" class="nav-link">Flux de DonnÃ©es</a>
                </li>
                <li class="nav-item">
                    <a href="hierarchie-classes.html" class="nav-link">HiÃ©rarchie des Classes</a>
                </li>
                <li class="nav-item">
                    <a href="communication-inter-modules.html" class="nav-link">Communication Inter-Modules</a>
                </li>
                <li class="nav-item">
                    <a href="catalogue-methodes.html" class="nav-link">Catalogue des MÃ©thodes</a>
                </li>
                <li class="nav-item">
                    <a href="patterns-anti-patterns.html" class="nav-link">Patterns & Anti-Patterns</a>
                </li>
                <li class="nav-item">
                    <a href="recommandations.html" class="nav-link">Recommandations</a>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <section class="section active">
                <h1>Classes de Gestion des DonnÃ©es</h1>
                
                <div class="card">
                    <h2>Vue d'Ensemble du Data Management</h2>
                    <p>Le systÃ¨me de gestion des donnÃ©es de Trifide 360 s'articule autour d'une architecture en couches permettant la manipulation efficace des donnÃ©es gÃ©ospatiales. L'architecture privilÃ©gie la sÃ©paration des responsabilitÃ©s entre stockage, validation, rendu et persistance.</p>
                    
                    <div class="tech-stack">
                        <div class="tech-item">
                            <h4>DataManager</h4>
                            <p>Gestionnaire central des donnÃ©es</p>
                        </div>
                        <div class="tech-item">
                            <h4>FeatureTable</h4>
                            <p>Tables de donnÃ©es spatiales</p>
                        </div>
                        <div class="tech-item">
                            <h4>LayerData</h4>
                            <p>Couches cartographiques</p>
                        </div>
                        <div class="tech-item">
                            <h4>Renderers</h4>
                            <p>Moteurs de rendu</p>
                        </div>
                        <div class="tech-item">
                            <h4>Schema</h4>
                            <p>DÃ©finition structure donnÃ©es</p>
                        </div>
                        <div class="tech-item">
                            <h4>Validation</h4>
                            <p>ContrÃ´les et validation</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Architecture HiÃ©rarchique des Classes Data</h2>
                    
                    <div class="file-structure">DataManager (classe centrale)
â”œâ”€â”€ <strong>Properties :</strong>
â”‚   â”œâ”€â”€ List&lt;LayerData&gt; Layers { get; }
â”‚   â”œâ”€â”€ List&lt;FeatureTable&gt; Tables { get; }
â”‚   â”œâ”€â”€ SpatialReference DefaultSpatialReference { get; set; }
â”‚   â”œâ”€â”€ DataContext Context { get; }
â”‚   â””â”€â”€ bool HasUnsavedChanges { get; }
â”œâ”€â”€ <strong>Methods principales :</strong>
â”‚   â”œâ”€â”€ LayerData AddLayer(string name, GeometryType type)
â”‚   â”œâ”€â”€ void RemoveLayer(LayerData layer)
â”‚   â”œâ”€â”€ FeatureTable CreateTable(FeatureSchema schema)
â”‚   â”œâ”€â”€ void SaveChanges()
â”‚   â”œâ”€â”€ void LoadFromFile(string filePath)
â”‚   â””â”€â”€ void ExportToFile(string filePath, ExportFormat format)
â””â”€â”€ <strong>Events :</strong>
    â”œâ”€â”€ LayerAdded, LayerRemoved
    â”œâ”€â”€ DataChanged, ValidationFailed
    â””â”€â”€ SaveCompleted, LoadCompleted

LayerData : INotifyPropertyChanged
â”œâ”€â”€ <strong>Properties :</strong>
â”‚   â”œâ”€â”€ string Name { get; set; }
â”‚   â”œâ”€â”€ GeometryType GeometryType { get; }
â”‚   â”œâ”€â”€ FeatureTable FeatureTable { get; }
â”‚   â”œâ”€â”€ IRenderer Renderer { get; set; }
â”‚   â”œâ”€â”€ bool IsVisible { get; set; }
â”‚   â”œâ”€â”€ bool IsEditable { get; set; }
â”‚   â”œâ”€â”€ SpatialReference SpatialReference { get; set; }
â”‚   â””â”€â”€ LayerProperties Properties { get; }
â”œâ”€â”€ <strong>Methods :</strong>
â”‚   â”œâ”€â”€ void SetRenderer(IRenderer renderer)
â”‚   â”œâ”€â”€ Feature CreateFeature(Geometry geometry)
â”‚   â”œâ”€â”€ void AddFeature(Feature feature)
â”‚   â”œâ”€â”€ void RemoveFeature(Feature feature)
â”‚   â”œâ”€â”€ Feature[] GetFeaturesInExtent(Envelope extent)
â”‚   â”œâ”€â”€ Feature[] QueryFeatures(QueryFilter filter)
â”‚   â””â”€â”€ ValidationResult ValidateLayer()
â””â”€â”€ <strong>Collections :</strong>
    â””â”€â”€ FeatureCollection Features { get; }

FeatureTable : IDisposable, INotifyCollectionChanged
â”œâ”€â”€ <strong>Properties :</strong>
â”‚   â”œâ”€â”€ FeatureSchema Schema { get; }
â”‚   â”œâ”€â”€ int FeatureCount { get; }
â”‚   â”œâ”€â”€ string TableName { get; set; }
â”‚   â”œâ”€â”€ SpatialReference SpatialReference { get; }
â”‚   â”œâ”€â”€ bool SupportsEditing { get; }
â”‚   â””â”€â”€ Envelope Extent { get; }
â”œâ”€â”€ <strong>Methods CRUD :</strong>
â”‚   â”œâ”€â”€ Feature CreateFeature()
â”‚   â”œâ”€â”€ Feature CreateFeature(IDictionary&lt;string, object&gt; attributes)
â”‚   â”œâ”€â”€ void AddFeature(Feature feature)
â”‚   â”œâ”€â”€ void UpdateFeature(Feature feature)
â”‚   â”œâ”€â”€ void DeleteFeature(Feature feature)
â”‚   â””â”€â”€ void DeleteFeatures(IEnumerable&lt;Feature&gt; features)
â”œâ”€â”€ <strong>Methods Query :</strong>
â”‚   â”œâ”€â”€ IEnumerable&lt;Feature&gt; QueryFeatures(QueryFilter filter)
â”‚   â”œâ”€â”€ Feature GetFeature(object objectId)
â”‚   â”œâ”€â”€ int GetFeatureCount(QueryFilter filter)
â”‚   â””â”€â”€ IEnumerable&lt;object&gt; GetDistinctValues(string fieldName)
â””â”€â”€ <strong>Events :</strong>
    â”œâ”€â”€ FeatureAdded, FeatureUpdated, FeatureDeleted
    â””â”€â”€ SchemaChanged, ExtentChanged</div>
                </div>

                <div class="card">
                    <h2>SchÃ©mas DÃ©taillÃ©s par Domaine</h2>
                    <p>Chaque domaine de donnÃ©es possÃ¨de ses propres classes spÃ©cialisÃ©es avec des responsabilitÃ©s clairement dÃ©finies. Cliquez sur les liens pour explorer les implÃ©mentations dÃ©taillÃ©es.</p>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4><a href="schema-feature-system.html">1. SystÃ¨me Feature</a></h4>
                            <p><strong>Feature, FeatureCollection</strong> - EntitÃ©s gÃ©ographiques</p>
                            <ul>
                                <li>Feature (gÃ©omÃ©trie + attributs)</li>
                                <li>FeatureCollection (gestion collections)</li>
                                <li>FeatureSet (ensembles structurÃ©s)</li>
                                <li>AttributeTable (table attributaire)</li>
                            </ul>
                            <p><em>â†’ EntitÃ©s de base, gestion attributs</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-renderers.html">2. Moteurs de Rendu</a></h4>
                            <p><strong>IRenderer, Symbology</strong> - SystÃ¨me de rendu cartographique</p>
                            <ul>
                                <li>SimpleRenderer (symbole unique)</li>
                                <li>UniqueValueRenderer (valeurs uniques)</li>
                                <li>ClassBreaksRenderer (classes)</li>
                                <li>SymbologyEngine (moteur symboles)</li>
                            </ul>
                            <p><em>â†’ Rendu visuel, lÃ©gendes, symbologie</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-feature-schema.html">3. SchÃ©ma de DonnÃ©es</a></h4>
                            <p><strong>FeatureSchema, FieldInfo</strong> - Structure des donnÃ©es</p>
                            <ul>
                                <li>FeatureSchema (dÃ©finition table)</li>
                                <li>FieldInfo (dÃ©finition champ)</li>
                                <li>FieldType (types donnÃ©es)</li>
                                <li>IndexManager (indexation)</li>
                            </ul>
                            <p><em>â†’ Structure, types, contraintes, index</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-query-filter.html">4. SystÃ¨me de RequÃªtes</a></h4>
                            <p><strong>QueryFilter, SpatialFilter</strong> - Filtrage et sÃ©lection</p>
                            <ul>
                                <li>QueryFilter (requÃªtes attributaires)</li>
                                <li>SpatialFilter (requÃªtes spatiales)</li>
                                <li>QueryBuilder (constructeur requÃªtes)</li>
                                <li>FilterExpression (expressions)</li>
                            </ul>
                            <p><em>â†’ SÃ©lection, WHERE clauses, spatial queries</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-validation-system.html">5. SystÃ¨me de Validation</a></h4>
                            <p><strong>ValidationEngine, Rules</strong> - ContrÃ´les qualitÃ©</p>
                            <ul>
                                <li>ValidationEngine (moteur validation)</li>
                                <li>ValidationRule (rÃ¨gles mÃ©tier)</li>
                                <li>QualityAssurance (contrÃ´le qualitÃ©)</li>
                                <li>ErrorReporting (rapports erreurs)</li>
                            </ul>
                            <p><em>â†’ RÃ¨gles mÃ©tier, contrÃ´les, rapports</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-data-binding.html">6. Data Binding & MVVM</a></h4>
                            <p><strong>ViewModels, Observable</strong> - Liaison donnÃ©es-interface</p>
                            <ul>
                                <li>LayerViewModel (MVVM couches)</li>
                                <li>FeatureViewModel (MVVM features)</li>
                                <li>DataGridViewModel (grilles donnÃ©es)</li>
                                <li>PropertyBinding (liaison propriÃ©tÃ©s)</li>
                            </ul>
                            <p><em>â†’ MVVM, binding, notifications UI</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-transaction-system.html">7. Gestion Transactions</a></h4>
                            <p><strong>Transaction, UndoRedo</strong> - Gestion Ã©tat et historique</p>
                            <ul>
                                <li>Transaction (unitÃ© de travail)</li>
                                <li>UndoRedoManager (historique)</li>
                                <li>ChangeTracking (suivi modifications)</li>
                                <li>StateManager (gestion Ã©tats)</li>
                            </ul>
                            <p><em>â†’ Transactions, undo/redo, Ã©tat</em></p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-cache-performance.html">8. Cache & Performance</a></h4>
                            <p><strong>CacheManager, Performance</strong> - Optimisation performances</p>
                            <ul>
                                <li>CacheManager (gestion cache)</li>
                                <li>SpatialIndex (index spatial)</li>
                                <li>LoadingStrategy (stratÃ©gies chargement)</li>
                                <li>PerformanceMonitor (monitoring)</li>
                            </ul>
                            <p><em>â†’ Cache, index, chargement, monitoring</em></p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>MÃ©triques et Statistiques</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4>RÃ©partition des Classes</h4>
                            <ul>
                                <li><strong>Total classes Data :</strong> ~45 classes</li>
                                <li><strong>Interfaces :</strong> 12 contrats</li>
                                <li><strong>Classes abstraites :</strong> 6 bases</li>
                                <li><strong>ViewModels MVVM :</strong> 8 classes</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>ComplexitÃ© par Domaine</h4>
                            <ul>
                                <li><strong>Feature System :</strong> ComplexitÃ© moyenne</li>
                                <li><strong>Renderers :</strong> ComplexitÃ© Ã©levÃ©e</li>
                                <li><strong>Validation :</strong> ComplexitÃ© Ã©levÃ©e</li>
                                <li><strong>Cache :</strong> ComplexitÃ© moyenne</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Patterns UtilisÃ©s</h4>
                            <ul>
                                <li><strong>Repository :</strong> AccÃ¨s donnÃ©es</li>
                                <li><strong>Factory :</strong> CrÃ©ation renderers</li>
                                <li><strong>Strategy :</strong> Algorithmes validation</li>
                                <li><strong>Observer :</strong> Notifications changements</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>DÃ©pendances ClÃ©s</h4>
                            <ul>
                                <li><strong>ArcGIS Runtime :</strong> FeatureTable base</li>
                                <li><strong>System.ComponentModel :</strong> INotifyPropertyChanged</li>
                                <li><strong>Collections :</strong> ObservableCollection</li>
                                <li><strong>LINQ :</strong> RequÃªtes intÃ©grÃ©es</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Relations et Flux de DonnÃ©es</h2>
                    
                    <div class="flow-diagram">
                        <h3>Flux Principal de DonnÃ©es</h3>
                        <div class="code-block">DataSource (Fichier/BD)
    â†“ Loading
FeatureTable (Structure + DonnÃ©es)
    â†“ Wrapping  
LayerData (MÃ©tadonnÃ©es + Rendu)
    â†“ Registration
DataManager (Orchestration)
    â†“ Binding
LayerViewModel (Interface MVVM)
    â†“ Display
MapView (Visualisation)</div>
                    </div>
                    
                    <div class="flow-diagram">
                        <h3>Cycle de Vie des Features</h3>
                        <div class="code-block">Feature Creation
    â†’ Validation (Schema + Rules)
    â†’ Transaction Start
    â†’ Add to FeatureTable
    â†’ Update Spatial Index
    â†’ Refresh Renderer
    â†’ Notify UI (PropertyChanged)
    â†’ Transaction Commit</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Navigation</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4><a href="hierarchie-classes.html">â† Retour HiÃ©rarchie Principale</a></h4>
                            <p>Vue d'ensemble de toutes les classes</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="hierarchie-geometry.html">â† Classes GÃ©omÃ©triques</a></h4>
                            <p>HiÃ©rarchie des gÃ©omÃ©tries</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="schema-feature-system.html">ğŸ¯ Commencer par Feature System</a></h4>
                            <p>Classes de base des entitÃ©s</p>
                        </div>
                        <div class="feature-card">
                            <h4><a href="hierarchie-ui.html">â†’ Classes Interface</a></h4>
                            <p>Composants interface utilisateur</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>